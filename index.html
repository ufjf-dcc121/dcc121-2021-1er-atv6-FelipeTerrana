<!DOCTYPE html>
<html lang="pt">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>Roguelike</title>

        <style>
            td {
                width: 30px;
                height: 30px;
                background-color: saddlebrown;
                text-align: center;
            }

            #heroi {
                color: lightskyblue;
            }

            .orc {
                color: lightgreen;
            }

            .tesouro {
                color: gold;
            }

            .parede {
                font-size: 0;
                background-color: lightgray;
            }
        </style>
    </head>
    <body>
        <table>
            <tr>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td class="tesouro">D</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="orc">O</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>

            <tr>
                <td></td>
                <td></td>
                <td id="heroi">@</td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede tesouro">T</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td class="orc">O</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td class="orc">O</td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td class="orc">O</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="orc">O</td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="parede"></td>
            </tr>

            <tr>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
                <td class="parede"></td>
            </tr>
        </table>

        <script type="text/javascript">
            const CELULAS = document.querySelectorAll('td');

            for(let i=0; i < CELULAS.length - 1; i++) {
                let celula = CELULAS[i];
                if(celula.classList.length === 0) {
                    celula.classList.add('parede');
                }

                celula.addEventListener('click', function() {
                    alterarCelula(celula)
                });
            }

            function alterarCelula(celula) {
                let classesAnteriores = celula.classList.toString();

                if(celula.classList.contains('parede')) {
                    celula.classList = [];
                    celula.innerHTML = '';
                }

                else if(celula.classList.length === 0) {
                    celula.classList.add('orc');
                    celula.innerHTML = 'O';
                }

                else if(celula.classList.contains('orc')) {
                    celula.classList = [];
                    celula.classList.add('tesouro');

                    if(Math.random() < 0.5) {
                        celula.innerHTML = 'T';
                    }

                    else {
                        celula.innerHTML = 'D';
                    }
                }

                else if(celula.classList.contains('tesouro')) {
                    celula.classList = [];
                    celula.classList.add('parede');
                    celula.innerHTML = '';
                }

                let classesAtuais = celula.classList.toString();
                console.log(classesAnteriores + ' -> ' + classesAtuais);
            }
        </script>
    </body>
</html>
